basePath: /api
definitions:
  dto.ChangePasswordRequest:
    properties:
      password:
        minLength: 8
        type: string
    required:
    - password
    type: object
  dto.CreateAchievementRequest:
    properties:
      color:
        enum:
        - yellow
        - blue
        - slate
        - amber
        - purple
        - emerald
        - red
        - orange
        type: string
      description:
        maxLength: 500
        minLength: 10
        type: string
      icon:
        enum:
        - trophy
        - award
        - mic
        - crown
        - music
        - book
        - medal
        - zap
        - star
        type: string
      subtitle:
        maxLength: 100
        minLength: 3
        type: string
      title:
        maxLength: 100
        minLength: 3
        type: string
    required:
    - color
    - description
    - icon
    - subtitle
    - title
    type: object
  dto.CreateAdminRequest:
    properties:
      name:
        maxLength: 100
        type: string
      password:
        minLength: 8
        type: string
      username:
        maxLength: 50
        minLength: 2
        type: string
    required:
    - password
    - username
    type: object
  dto.CreateCategoryRequest:
    properties:
      description:
        maxLength: 500
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
    required:
    - name
    type: object
  dto.CreateMessageRequest:
    properties:
      email:
        type: string
      message:
        maxLength: 2000
        minLength: 10
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
      subject:
        maxLength: 200
        minLength: 3
        type: string
    required:
    - email
    - message
    - name
    - subject
    type: object
  dto.CreateTagRequest:
    properties:
      name:
        maxLength: 50
        minLength: 2
        type: string
    required:
    - name
    type: object
  dto.CreateVideoRequest:
    properties:
      thumbnail:
        type: string
      title:
        maxLength: 100
        minLength: 3
        type: string
      youtube_id:
        maxLength: 20
        minLength: 5
        type: string
    required:
    - title
    - youtube_id
    type: object
  dto.LoginRequest:
    properties:
      password:
        minLength: 6
        type: string
      username:
        maxLength: 50
        minLength: 2
        type: string
    required:
    - password
    - username
    type: object
  dto.RefreshTokenRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  dto.RegisterSantriRequest:
    properties:
      address:
        maxLength: 500
        minLength: 10
        type: string
      birth_date:
        description: 'Format: YYYY-MM-DD'
        type: string
      birth_place:
        maxLength: 50
        minLength: 2
        type: string
      father_job:
        maxLength: 100
        minLength: 2
        type: string
      father_name:
        description: Parent Data
        maxLength: 100
        minLength: 3
        type: string
      full_name:
        description: Santri Data
        maxLength: 100
        minLength: 3
        type: string
      gender:
        enum:
        - L
        - P
        type: string
      graduation_year:
        type: string
      mother_job:
        maxLength: 100
        minLength: 2
        type: string
      mother_name:
        maxLength: 100
        minLength: 3
        type: string
      nik:
        type: string
      parent_phone:
        maxLength: 15
        minLength: 10
        type: string
      photo_url:
        description: Optional
        type: string
      school_address:
        maxLength: 500
        minLength: 10
        type: string
      school_origin:
        description: Education Data
        maxLength: 100
        minLength: 3
        type: string
    required:
    - address
    - birth_date
    - birth_place
    - father_job
    - father_name
    - full_name
    - gender
    - graduation_year
    - mother_job
    - mother_name
    - nik
    - parent_phone
    - school_address
    - school_origin
    type: object
  dto.TokenPair:
    properties:
      access_token:
        type: string
      expires_in:
        description: Access token expiry in seconds
        type: integer
      refresh_token:
        type: string
      user:
        $ref: '#/definitions/dto.UserDTO'
    type: object
  dto.UpdateAchievementRequest:
    properties:
      color:
        enum:
        - yellow
        - blue
        - slate
        - amber
        - purple
        - emerald
        - red
        - orange
        type: string
      description:
        maxLength: 500
        minLength: 10
        type: string
      icon:
        enum:
        - trophy
        - award
        - mic
        - crown
        - music
        - book
        - medal
        - zap
        - star
        type: string
      subtitle:
        maxLength: 100
        minLength: 3
        type: string
      title:
        maxLength: 100
        minLength: 3
        type: string
    type: object
  dto.UpdateCategoryRequest:
    properties:
      description:
        maxLength: 500
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
    type: object
  dto.UpdateGalleryRequest:
    properties:
      cover_url:
        type: string
      description:
        maxLength: 500
        minLength: 10
        type: string
      title:
        maxLength: 100
        minLength: 3
        type: string
    type: object
  dto.UpdateSantriRequest:
    properties:
      address:
        maxLength: 500
        minLength: 10
        type: string
      birth_date:
        type: string
      birth_place:
        maxLength: 50
        minLength: 2
        type: string
      full_name:
        maxLength: 100
        minLength: 3
        type: string
      gender:
        enum:
        - L
        - P
        type: string
      nik:
        type: string
      parent_name:
        maxLength: 100
        minLength: 3
        type: string
      parent_phone:
        maxLength: 15
        minLength: 10
        type: string
      photo_url:
        type: string
    type: object
  dto.UpdateSantriStatusRequest:
    properties:
      status:
        enum:
        - PENDING
        - VERIFIED
        - ACCEPTED
        - REJECTED
        type: string
    required:
    - status
    type: object
  dto.UpdateTagRequest:
    properties:
      name:
        maxLength: 50
        minLength: 2
        type: string
    type: object
  dto.UpdateVideoRequest:
    properties:
      thumbnail:
        type: string
      title:
        maxLength: 100
        minLength: 3
        type: string
      youtube_id:
        maxLength: 20
        minLength: 5
        type: string
    type: object
  dto.UserDTO:
    properties:
      id:
        type: integer
      role:
        type: string
      username:
        type: string
    type: object
  dto.VerifySantriRequest:
    properties:
      class:
        maxLength: 10
        minLength: 1
        type: string
      entry_year:
        maximum: 2100
        minimum: 2000
        type: integer
      nis:
        maxLength: 20
        minLength: 5
        type: string
    required:
    - class
    - entry_year
    - nis
    type: object
  handlers.HealthResponse:
    properties:
      services:
        additionalProperties:
          type: string
        type: object
      status:
        type: string
    type: object
  models.Article:
    properties:
      author:
        $ref: '#/definitions/models.User'
      author_id:
        type: integer
      category:
        $ref: '#/definitions/models.Category'
      category_id:
        type: integer
      content:
        type: string
      created_at:
        type: string
      id:
        type: integer
      is_published:
        type: boolean
      slug:
        type: string
      tags:
        items:
          $ref: '#/definitions/models.Tag'
        type: array
      thumbnail_url:
        type: string
      title:
        type: string
      updated_at:
        type: string
    type: object
  models.Category:
    properties:
      articles:
        description: Relation
        items:
          $ref: '#/definitions/models.Article'
        type: array
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      slug:
        type: string
      updated_at:
        type: string
    type: object
  models.Tag:
    properties:
      articles:
        description: Many-to-many relation with articles
        items:
          $ref: '#/definitions/models.Article'
        type: array
      created_at:
        type: string
      id:
        type: integer
      name:
        type: string
      slug:
        type: string
      updated_at:
        type: string
    type: object
  models.User:
    properties:
      created_at:
        type: string
      id:
        type: integer
      role:
        description: '''super_admin'' or ''admin'''
        type: string
      updated_at:
        type: string
      username:
        type: string
    type: object
  utils.APIResponse:
    properties:
      data: {}
      error: {}
      message:
        type: string
      request_id:
        type: string
      status:
        type: boolean
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: Backend API for Pondok Pesantren K3 Arafah Website.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: K3 Arafah Web API
  version: "1.0"
paths:
  /achievements:
    get:
      description: Get all achievements
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get all achievements
      tags:
      - achievements
    post:
      consumes:
      - application/json
      description: Create a new achievement entry (admin only)
      parameters:
      - description: Achievement data
        in: body
        name: achievement
        required: true
        schema:
          $ref: '#/definitions/dto.CreateAchievementRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Create a new achievement
      tags:
      - achievements
  /achievements/{id}:
    delete:
      description: Delete an achievement (admin only)
      parameters:
      - description: Achievement ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete an achievement
      tags:
      - achievements
    put:
      consumes:
      - application/json
      description: Update an existing achievement (admin only)
      parameters:
      - description: Achievement ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated achievement data
        in: body
        name: achievement
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateAchievementRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update an achievement
      tags:
      - achievements
  /activity-logs:
    get:
      description: Get paginated activity logs (super_admin only)
      parameters:
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20)'
        in: query
        name: limit
        type: integer
      - description: Filter by user ID
        in: query
        name: user_id
        type: integer
      - description: Filter by action (CREATE, UPDATE, DELETE, LOGIN, LOGOUT, VERIFY)
        in: query
        name: action
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get all activity logs
      tags:
      - activity-logs
  /activity-logs/{entity_type}/{entity_id}:
    get:
      description: Get activity logs for a specific entity (super_admin only)
      parameters:
      - description: Entity type (article, santri, gallery, etc.)
        in: path
        name: entity_type
        required: true
        type: string
      - description: Entity ID
        in: path
        name: entity_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get activity logs by entity
      tags:
      - activity-logs
  /admins:
    get:
      description: Retrieve list of all admin users
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/models.User'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get all admins
      tags:
      - auth
    post:
      consumes:
      - application/json
      description: Create a new admin user (Super Admin only)
      parameters:
      - description: Admin Data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/dto.CreateAdminRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Create new admin
      tags:
      - auth
  /admins/{id}:
    delete:
      description: Delete an admin user by ID
      parameters:
      - description: Admin ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete admin
      tags:
      - auth
  /admins/{id}/password:
    put:
      consumes:
      - application/json
      description: Update password for an admin user (Super Admin only)
      parameters:
      - description: Admin ID
        in: path
        name: id
        required: true
        type: integer
      - description: New Password
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/dto.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update admin password
      tags:
      - auth
  /articles:
    get:
      description: Get all articles with optional pagination
      parameters:
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get all articles
      tags:
      - articles
    post:
      consumes:
      - application/json
      description: Create a new article (admin only)
      parameters:
      - description: Article data
        in: body
        name: article
        required: true
        schema:
          $ref: '#/definitions/models.Article'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Create a new article
      tags:
      - articles
  /articles/{id}:
    delete:
      description: Delete an article (admin only)
      parameters:
      - description: Article ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete an article
      tags:
      - articles
    get:
      description: Get a single article by its ID
      parameters:
      - description: Article ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get article by ID
      tags:
      - articles
    put:
      consumes:
      - application/json
      description: Update an existing article (admin only)
      parameters:
      - description: Article ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated article data
        in: body
        name: article
        required: true
        schema:
          $ref: '#/definitions/models.Article'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update an article
      tags:
      - articles
  /articles/category:
    get:
      description: Get articles filtered by category ID
      parameters:
      - description: Category ID
        in: query
        name: category_id
        required: true
        type: integer
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 10)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get articles by category
      tags:
      - articles
  /articles/search:
    get:
      description: Search articles by title or content
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 10)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Search articles
      tags:
      - articles
  /articles/slug/{slug}:
    get:
      description: Get a single article by its URL slug
      parameters:
      - description: Article slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get article by slug
      tags:
      - articles
  /articles/tag:
    get:
      description: Get articles filtered by tag ID
      parameters:
      - description: Tag ID
        in: query
        name: tag_id
        required: true
        type: integer
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 10)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get articles by tag
      tags:
      - articles
  /categories:
    get:
      description: Get all article categories
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get all categories
      tags:
      - categories
    post:
      consumes:
      - application/json
      description: Create a new article category (admin only)
      parameters:
      - description: Category data
        in: body
        name: category
        required: true
        schema:
          $ref: '#/definitions/dto.CreateCategoryRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Create a new category
      tags:
      - categories
  /categories/{id}:
    delete:
      description: Delete a category (admin only)
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete a category
      tags:
      - categories
    get:
      description: Get a single category by its ID
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get category by ID
      tags:
      - categories
    put:
      consumes:
      - application/json
      description: Update an existing category (admin only)
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated category data
        in: body
        name: category
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateCategoryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update a category
      tags:
      - categories
  /cleanup/cloudinary/delete:
    post:
      consumes:
      - application/json
      description: Delete a specific image from Cloudinary using its URL (super_admin
        only)
      parameters:
      - description: Image URL to delete
        in: body
        name: input
        required: true
        schema:
          properties:
            url:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete an image from Cloudinary by URL
      tags:
      - cleanup
  /cleanup/cloudinary/usage:
    get:
      description: Get storage and bandwidth usage from Cloudinary (super_admin only)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get Cloudinary usage statistics
      tags:
      - cleanup
  /contact:
    post:
      consumes:
      - application/json
      description: Submit a new message from contact form
      parameters:
      - description: Message Data
        in: body
        name: message
        required: true
        schema:
          $ref: '#/definitions/dto.CreateMessageRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Submit a contact message
      tags:
      - messages
  /dashboard/stats:
    get:
      description: Get dashboard statistics (admin only)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get dashboard statistics
      tags:
      - dashboard
  /export/santri/excel:
    get:
      description: Export all or filtered santri data to Excel file (admin only)
      parameters:
      - description: Filter by status (PENDING, VERIFIED, ACCEPTED, REJECTED)
        in: query
        name: status
        type: string
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: OK
          schema:
            type: file
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Export santri data to Excel
      tags:
      - export
  /galleries:
    get:
      description: Get all gallery albums
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get all galleries
      tags:
      - galleries
    post:
      consumes:
      - multipart/form-data
      description: Create a new gallery album (admin only)
      parameters:
      - description: Gallery title
        in: formData
        name: title
        required: true
        type: string
      - description: Gallery description
        in: formData
        name: description
        type: string
      - description: Cover image
        in: formData
        name: cover
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Create a new gallery
      tags:
      - galleries
  /galleries/{id}:
    delete:
      description: Delete a gallery and all its photos (admin only)
      parameters:
      - description: Gallery ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete a gallery
      tags:
      - galleries
    get:
      description: Get a single gallery with all its photos
      parameters:
      - description: Gallery ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get gallery by ID
      tags:
      - galleries
    put:
      consumes:
      - application/json
      description: Update gallery details (admin only)
      parameters:
      - description: Gallery ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated gallery data
        in: body
        name: gallery
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateGalleryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update a gallery
      tags:
      - galleries
  /galleries/{id}/photos:
    post:
      consumes:
      - multipart/form-data
      description: Upload multiple photos to a gallery (admin only)
      parameters:
      - description: Gallery ID
        in: path
        name: id
        required: true
        type: integer
      - description: Photos to upload
        in: formData
        name: photos
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Upload photos to gallery
      tags:
      - galleries
  /galleries/photos/{photo_id}:
    delete:
      description: Delete a single photo from a gallery (admin only)
      parameters:
      - description: Photo ID
        in: path
        name: photo_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete a photo
      tags:
      - galleries
  /health:
    get:
      description: Check the health status of the API and its dependencies
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.HealthResponse'
        "503":
          description: Service Unavailable
          schema:
            $ref: '#/definitions/handlers.HealthResponse'
      summary: Health Check
      tags:
      - health
  /login:
    post:
      consumes:
      - application/json
      description: Login with username and password to get JWT tokens
      parameters:
      - description: Login Credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TokenPair'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Login admin
      tags:
      - auth
  /logout:
    post:
      description: Clear authentication cookies
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Logout admin
      tags:
      - auth
  /messages:
    get:
      description: Get all contact messages (admin only)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get all messages
      tags:
      - messages
  /messages/{id}:
    delete:
      description: Delete a message (admin only)
      parameters:
      - description: Message ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete a message
      tags:
      - messages
  /messages/{id}/read:
    put:
      description: Mark a message as read (admin only)
      parameters:
      - description: Message ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Mark message as read
      tags:
      - messages
  /psb/register:
    post:
      consumes:
      - application/json
      description: Register a new santri for PSB (public)
      parameters:
      - description: Registration data
        in: body
        name: santri
        required: true
        schema:
          $ref: '#/definitions/dto.RegisterSantriRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Register new santri
      tags:
      - psb
  /psb/registrants:
    get:
      description: Get all PSB registrants with optional status filter and pagination
        (admin only)
      parameters:
      - description: Filter by status (PENDING, VERIFIED, ACCEPTED, REJECTED)
        in: query
        name: status
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 10)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get all registrants
      tags:
      - psb
  /psb/registrants/{id}:
    delete:
      description: Delete a registrant (admin only)
      parameters:
      - description: Registrant ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete registrant
      tags:
      - psb
    get:
      description: Get a single registrant's detail (admin only)
      parameters:
      - description: Registrant ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get registrant by ID
      tags:
      - psb
    put:
      consumes:
      - application/json
      description: Update a registrant's data (admin only)
      parameters:
      - description: Registrant ID
        in: path
        name: id
        required: true
        type: integer
      - description: Update data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateSantriRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update registrant data
      tags:
      - psb
  /psb/registrants/{id}/status:
    put:
      consumes:
      - application/json
      description: Update the status of a registrant (admin only)
      parameters:
      - description: Registrant ID
        in: path
        name: id
        required: true
        type: integer
      - description: New status
        in: body
        name: status
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateSantriStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update registrant status
      tags:
      - psb
  /psb/registrants/{id}/verify:
    put:
      consumes:
      - application/json
      description: Verify a registrant and accept them as santri (admin only)
      parameters:
      - description: Registrant ID
        in: path
        name: id
        required: true
        type: integer
      - description: Verification data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/dto.VerifySantriRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Verify and accept santri
      tags:
      - psb
  /ready:
    get:
      description: Check if the service is ready to accept traffic
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Readiness Check
      tags:
      - health
  /refresh:
    post:
      consumes:
      - application/json
      description: Use refresh token to get new access token
      parameters:
      - description: Refresh Token
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/dto.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TokenPair'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Refresh access token
      tags:
      - auth
  /tags:
    get:
      description: Get all article tags
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get all tags
      tags:
      - tags
    post:
      consumes:
      - application/json
      description: Create a new article tag (admin only)
      parameters:
      - description: Tag data
        in: body
        name: tag
        required: true
        schema:
          $ref: '#/definitions/dto.CreateTagRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Create a new tag
      tags:
      - tags
  /tags/{id}:
    delete:
      description: Delete a tag (admin only)
      parameters:
      - description: Tag ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete a tag
      tags:
      - tags
    get:
      description: Get a single tag by its ID
      parameters:
      - description: Tag ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get tag by ID
      tags:
      - tags
    put:
      consumes:
      - application/json
      description: Update an existing tag (admin only)
      parameters:
      - description: Tag ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated tag data
        in: body
        name: tag
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateTagRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update a tag
      tags:
      - tags
  /upload:
    post:
      consumes:
      - multipart/form-data
      description: Upload an image file to Cloudinary (max 5MB, JPEG/PNG/WebP/GIF
        only)
      parameters:
      - description: Image file to upload
        in: formData
        name: file
        required: true
        type: file
      - description: 'Folder name (default: general)'
        in: formData
        name: folder
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.APIResponse'
            - properties:
                data:
                  properties:
                    url:
                      type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Upload image
      tags:
      - media
  /videos:
    get:
      description: Get all videos
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/utils.APIResponse'
      summary: Get all videos
      tags:
      - videos
    post:
      consumes:
      - application/json
      description: Create a new video entry (admin only)
      parameters:
      - description: Video data
        in: body
        name: video
        required: true
        schema:
          $ref: '#/definitions/dto.CreateVideoRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Create a new video
      tags:
      - videos
  /videos/{id}:
    delete:
      description: Delete a video (admin only)
      parameters:
      - description: Video ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Delete a video
      tags:
      - videos
    get:
      description: Get a single video by its ID (admin only)
      parameters:
      - description: Video ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Get video by ID
      tags:
      - videos
    put:
      consumes:
      - application/json
      description: Update an existing video (admin only)
      parameters:
      - description: Video ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated video data
        in: body
        name: video
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateVideoRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/utils.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/utils.APIResponse'
      security:
      - BearerAuth: []
      summary: Update a video
      tags:
      - videos
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
